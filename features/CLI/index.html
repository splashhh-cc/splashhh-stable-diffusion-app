
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="mauwii">
      
      
        <link rel="canonical" href="https://splashhh-cc.github.io/InvokeAI/features/CLI/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../CONCEPTS/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.6">
    
    
      
        <title>Command-Line Interface - InvokeAI Stable Diffusion Toolkit Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cli" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="InvokeAI Stable Diffusion Toolkit Docs" class="md-header__button md-logo" aria-label="InvokeAI Stable Diffusion Toolkit Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            InvokeAI Stable Diffusion Toolkit Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Command-Line Interface
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/splashhh-cc/splashhh-stable-diffusion-app" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    splashhh-cc/splashhh-stable-diffusion-app
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../CHANGELOG/" class="md-tabs__link">
      Changelog
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Features
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../help/" class="md-tabs__link">
        Help
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../installation/" class="md-tabs__link">
        Installation
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../other/CONTRIBUTORS/" class="md-tabs__link">
        Other
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="InvokeAI Stable Diffusion Toolkit Docs" class="md-nav__button md-logo" aria-label="InvokeAI Stable Diffusion Toolkit Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    InvokeAI Stable Diffusion Toolkit Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/splashhh-cc/splashhh-stable-diffusion-app" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    splashhh-cc/splashhh-stable-diffusion-app
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../CHANGELOG/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Features</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Command-Line Interface
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Command-Line Interface
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#interactive-command-line-interface" class="md-nav__link">
    Interactive Command Line Interface
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arguments" class="md-nav__link">
    Arguments
  </a>
  
    <nav class="md-nav" aria-label="Arguments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-of-arguments-recognized-at-the-command-line" class="md-nav__link">
    List of arguments recognized at the command line
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-invokeai-initialization-file" class="md-nav__link">
    The .invokeai initialization file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-of-prompt-arguments" class="md-nav__link">
    List of prompt arguments
  </a>
  
    <nav class="md-nav" aria-label="List of prompt arguments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#txt2img" class="md-nav__link">
    txt2img
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inpainting" class="md-nav__link">
    inpainting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-styles-and-subjects" class="md-nav__link">
    Custom Styles and Subjects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-commands" class="md-nav__link">
    Other Commands
  </a>
  
    <nav class="md-nav" aria-label="Other Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#postprocessing-images" class="md-nav__link">
    Postprocessing images
  </a>
  
    <nav class="md-nav" aria-label="Postprocessing images">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fix" class="md-nav__link">
    !fix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mask" class="md-nav__link">
    !mask
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-selection-and-importation" class="md-nav__link">
    Model selection and importation
  </a>
  
    <nav class="md-nav" aria-label="Model selection and importation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#models" class="md-nav__link">
    !models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#switch-model" class="md-nav__link">
    !switch &lt;model&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import_model-hugging_face_repo_id" class="md-nav__link">
    !import_model &lt;hugging_face_repo_ID&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import_model-pathtodiffusersdirectory" class="md-nav__link">
    !import_model &lt;path/to/diffusers/directory&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import_model-url" class="md-nav__link">
    !import_model &lt;url&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import_model-pathtomodelweightsckpt" class="md-nav__link">
    !import_model &lt;path/to/model/weights.ckpt&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import_model-pathtodirectory_of_models" class="md-nav__link">
    !import_model &lt;path/to/directory_of_models&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#edit_model-name_of_model" class="md-nav__link">
    !edit_model &lt;name_of_model&gt;
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#history-processing" class="md-nav__link">
    History processing
  </a>
  
    <nav class="md-nav" aria-label="History processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#history" class="md-nav__link">
    !history
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch" class="md-nav__link">
    !fetch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replay" class="md-nav__link">
    !replay
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-search-string" class="md-nav__link">
    !search &lt;search string&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear" class="md-nav__link">
    !clear
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-editing-and-completion" class="md-nav__link">
    Command-line editing and completion
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CONCEPTS/" class="md-nav__link">
        Styles and Subjects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../EMBIGGEN/" class="md-nav__link">
        Embiggen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../IMG2IMG/" class="md-nav__link">
        Image-to-Image
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../INPAINTING/" class="md-nav__link">
        Inpainting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../MODEL_MERGING/" class="md-nav__link">
        Model Merging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../NSFW/" class="md-nav__link">
        The NSFW Checker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../OTHER/" class="md-nav__link">
        Others
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../OUTPAINTING/" class="md-nav__link">
        Outpainting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../POSTPROCESS/" class="md-nav__link">
        Postprocessing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../PROMPTS/" class="md-nav__link">
        Prompting-Features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../TEXTUAL_INVERSION/" class="md-nav__link">
        Textual-Inversion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../UNIFIED_CANVAS/" class="md-nav__link">
        Unified Canvas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../VARIATIONS/" class="md-nav__link">
        Variations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../WEB/" class="md-nav__link">
        InvokeAI Web Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../WEBUIHOTKEYS/" class="md-nav__link">
        WebUI Hotkey List
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../help/">Help</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Help
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../help/SAMPLER_CONVERGENCE/" class="md-nav__link">
        Sampler Convergence
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../help/IDE-Settings/">IDE Settings</a>
          
            <label for="__nav_4_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          IDE Settings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../help/IDE-Settings/vs-code/" class="md-nav__link">
        Visual Studio Code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../help/contributing/">Contributing</a>
          
            <label for="__nav_4_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../help/contributing/010_PULL_REQUEST/" class="md-nav__link">
        Pull-Request
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../help/contributing/020_ISSUES/" class="md-nav__link">
        Issues
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../help/contributing/030_DOCS/" class="md-nav__link">
        docs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../help/contributing/090_NODE_TRANSFORMATION/" class="md-nav__link">
        Tranformation to nodes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
          Deprecated
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Deprecated
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../help/deprecated/TROUBLESHOOT/" class="md-nav__link">
        F.A.Q.
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../installation/">Installation</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/010_INSTALL_AUTOMATED/" class="md-nav__link">
        Installing with the Automated Installer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/020_INSTALL_MANUAL/" class="md-nav__link">
        Installing Manually
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/030_INSTALL_CUDA_AND_ROCM/" class="md-nav__link">
        NVIDIA Cuda / AMD ROCm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/040_INSTALL_DOCKER/" class="md-nav__link">
        Installing with Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/050_INSTALLING_MODELS/" class="md-nav__link">
        Installing Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/060_INSTALL_PATCHMATCH/" class="md-nav__link">
        Installing PyPatchMatch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/070_INSTALL_XFORMERS/" class="md-nav__link">
        Installing xFormers
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_9" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_9" id="__nav_5_9_label" tabindex="0">
          Developers documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_9">
          <span class="md-nav__icon md-icon"></span>
          Developers documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/Developers_documentation/BUILDING_BINARY_INSTALLERS/" class="md-nav__link">
        build binary installers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_10" id="__nav_5_10_label" tabindex="0">
          Deprecated documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_10">
          <span class="md-nav__icon md-icon"></span>
          Deprecated documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/deprecated_documentation/INSTALL_BINARY/" class="md-nav__link">
        InvokeAI Binary Installer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/deprecated_documentation/INSTALL_JUPYTER/" class="md-nav__link">
        Running InvokeAI on Google Colab using a Jupyter Notebook
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/deprecated_documentation/INSTALL_LINUX/" class="md-nav__link">
        Manual Installation, Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/deprecated_documentation/INSTALL_MAC/" class="md-nav__link">
        Manual Installation, macOS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/deprecated_documentation/INSTALL_PCP/" class="md-nav__link">
        Installing InvokeAI with the Pre-Compiled PIP Installer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/deprecated_documentation/INSTALL_SOURCE/" class="md-nav__link">
        Source Installer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/deprecated_documentation/INSTALL_WINDOWS/" class="md-nav__link">
        Manual Installation, Windows
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Other
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Other
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../other/CONTRIBUTORS/" class="md-nav__link">
        Contributors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../other/README-CompViz/" class="md-nav__link">
        CompViz-Readme
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../other/TRANSLATION/" class="md-nav__link">
        Translation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/splashhh-cc/splashhh-stable-diffusion-app/blob/main/docs/features/CLI.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/splashhh-cc/splashhh-stable-diffusion-app/raw/main/docs/features/CLI.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
    </a>
  


<h1 id="cli"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9h2.31l.32-3h2l-.32 3h2l.32-3h2l-.32 3H15v2h-1.9l-.2 2H15v2h-2.31l-.32 3h-2l.32-3h-2l-.32 3h-2l.32-3H5v-2h1.9l.2-2H5V9m4.1 2-.2 2h2l.2-2M19 6h-2v8h2m0 2h-2v2h2Z"/></svg></span> CLI<a class="headerlink" href="#cli" title="Permanent link">#</a></h1>
<h2 id="interactive-command-line-interface"><strong>Interactive Command Line Interface</strong><a class="headerlink" href="#interactive-command-line-interface" title="Permanent link">#</a></h2>
<p>The InvokeAI command line interface (CLI) provides scriptable access
to InvokeAI's features.Some advanced features are only available
through the CLI, though they eventually find their way into the WebUI.</p>
<p>The CLI is accessible from the <code>invoke.sh</code>/<code>invoke.bat</code> launcher by
selecting option (1). Alternatively, it can be launched directly from
the command line by activating the InvokeAI environment and giving the
command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>invokeai
</code></pre></div>
<p>After some startup messages, you will be presented with the <code>invoke&gt;</code>
prompt. Here you can type prompts to generate images and issue other
commands to load and manipulate generative models. The CLI has a large
number of command-line options that control its behavior. To get a
concise summary of the options, call <code>invokeai</code> with the <code>--help</code> argument:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>invokeai<span class="w"> </span>--help
</code></pre></div>
<p>The script uses the readline library to allow for in-line editing, command
history (<span class="keys"><kbd class="key-arrow-up">Up</kbd></span> and <span class="keys"><kbd class="key-arrow-down">Down</kbd></span>), autocompletion, and more. To help keep track of
which prompts generated which images, the script writes a log file of image
names and prompts to the selected output directory.</p>
<p>Here is a typical session</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>PS1:C:<span class="se">\U</span>sers<span class="se">\f</span>red&gt;<span class="w"> </span>invokeai
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>*<span class="w"> </span>Initializing,<span class="w"> </span>be<span class="w"> </span>patient...
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>*<span class="w"> </span>Initializing,<span class="w"> </span>be<span class="w"> </span>patient...
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>&gt;&gt;<span class="w"> </span>Initialization<span class="w"> </span>file<span class="w"> </span>/home/lstein/invokeai/invokeai.init<span class="w"> </span>found.<span class="w"> </span>Loading...
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>&gt;&gt;<span class="w"> </span>Internet<span class="w"> </span>connectivity<span class="w"> </span>is<span class="w"> </span>True
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>&gt;&gt;<span class="w"> </span>InvokeAI,<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>.3.0-rc5
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>&gt;&gt;<span class="w"> </span>InvokeAI<span class="w"> </span>runtime<span class="w"> </span>directory<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;/home/lstein/invokeai&quot;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>&gt;&gt;<span class="w"> </span>GFPGAN<span class="w"> </span>Initialized
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>&gt;&gt;<span class="w"> </span>CodeFormer<span class="w"> </span>Initialized
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>&gt;&gt;<span class="w"> </span>ESRGAN<span class="w"> </span>Initialized
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>&gt;&gt;<span class="w"> </span>Using<span class="w"> </span>device_type<span class="w"> </span>cuda
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>&gt;&gt;<span class="w"> </span>xformers<span class="w"> </span>memory-efficient<span class="w"> </span>attention<span class="w"> </span>is<span class="w"> </span>available<span class="w"> </span>and<span class="w"> </span>enabled
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">     </span><span class="o">(</span>...more<span class="w"> </span>initialization<span class="w"> </span>messages...<span class="o">)</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>*<span class="w"> </span>Initialization<span class="w"> </span><span class="k">done</span>!<span class="w"> </span>Awaiting<span class="w"> </span>your<span class="w"> </span><span class="nb">command</span><span class="w"> </span><span class="o">(</span>-h<span class="w"> </span><span class="k">for</span><span class="w"> </span>help,<span class="w"> </span><span class="s1">&#39;q&#39;</span><span class="w"> </span>to<span class="w"> </span>quit<span class="o">)</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>invoke&gt;<span class="w"> </span>ashley<span class="w"> </span>judd<span class="w"> </span>riding<span class="w"> </span>a<span class="w"> </span>camel<span class="w"> </span>-n2<span class="w"> </span>-s150
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>Outputs:
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">   </span>outputs/img-samples/00009.png:<span class="w"> </span><span class="s2">&quot;ashley judd riding a camel&quot;</span><span class="w"> </span>-n2<span class="w"> </span>-s150<span class="w"> </span>-S<span class="w"> </span><span class="m">416354203</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="w">   </span>outputs/img-samples/00010.png:<span class="w"> </span><span class="s2">&quot;ashley judd riding a camel&quot;</span><span class="w"> </span>-n2<span class="w"> </span>-s150<span class="w"> </span>-S<span class="w"> </span><span class="m">1362479620</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>invoke&gt;<span class="w"> </span><span class="s2">&quot;there&#39;s a fly in my soup&quot;</span><span class="w"> </span>-n6<span class="w"> </span>-g
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="w">    </span>outputs/img-samples/00011.png:<span class="w"> </span><span class="s2">&quot;there&#39;s a fly in my soup&quot;</span><span class="w"> </span>-n6<span class="w"> </span>-g<span class="w"> </span>-S<span class="w"> </span><span class="m">2685670268</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="w">    </span>seeds<span class="w"> </span><span class="k">for</span><span class="w"> </span>individual<span class="w"> </span>rows:<span class="w"> </span><span class="o">[</span><span class="m">2685670268</span>,<span class="w"> </span><span class="m">1216708065</span>,<span class="w"> </span><span class="m">2335773498</span>,<span class="w"> </span><span class="m">822223658</span>,<span class="w"> </span><span class="m">714542046</span>,<span class="w"> </span><span class="m">3395302430</span><span class="o">]</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>invoke&gt;<span class="w"> </span>q
</code></pre></div>
<p><img alt="invoke-py-demo" src="../../assets/dream-py-demo.png" /></p>
<h2 id="arguments">Arguments<a class="headerlink" href="#arguments" title="Permanent link">#</a></h2>
<p>The script recognizes a series of command-line switches that will
change important global defaults, such as the directory for image
outputs and the location of the model weight files.</p>
<h3 id="list-of-arguments-recognized-at-the-command-line">List of arguments recognized at the command line<a class="headerlink" href="#list-of-arguments-recognized-at-the-command-line" title="Permanent link">#</a></h3>
<p>These command-line arguments can be passed to <code>invoke.py</code> when you first run it
from the Windows, Mac or Linux command line. Some set defaults that can be
overridden on a per-prompt basis (see
<a href="#list-of-prompt-arguments">List of prompt arguments</a>. Others</p>
<table>
<thead>
<tr>
<th>Argument <img width="240" align="right"/></th>
<th>Shortcut <img width="100" align="right"/></th>
<th>Default <img width="320" align="right"/></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--help</code></td>
<td><code>-h</code></td>
<td></td>
<td>Print a concise help message.</td>
</tr>
<tr>
<td><code>--outdir &lt;path&gt;</code></td>
<td><code>-o&lt;path&gt;</code></td>
<td><code>outputs/img_samples</code></td>
<td>Location for generated images.</td>
</tr>
<tr>
<td><code>--prompt_as_dir</code></td>
<td><code>-p</code></td>
<td><code>False</code></td>
<td>Name output directories using the prompt text.</td>
</tr>
<tr>
<td><code>--from_file &lt;path&gt;</code></td>
<td></td>
<td><code>None</code></td>
<td>Read list of prompts from a file. Use <code>-</code> to read from standard input</td>
</tr>
<tr>
<td><code>--model &lt;modelname&gt;</code></td>
<td></td>
<td><code>stable-diffusion-1.5</code></td>
<td>Loads the initial model specified in configs/models.yaml.</td>
</tr>
<tr>
<td><code>--ckpt_convert</code></td>
<td></td>
<td><code>False</code></td>
<td>If provided both .ckpt and .safetensors files will be auto-converted into diffusers format in memory</td>
</tr>
<tr>
<td><code>--autoconvert &lt;path&gt;</code></td>
<td></td>
<td><code>None</code></td>
<td>On startup, scan the indicated directory for new .ckpt/.safetensor files and automatically convert and import them</td>
</tr>
<tr>
<td><code>--precision</code></td>
<td></td>
<td><code>fp16</code></td>
<td>Provide <code>fp32</code> for full precision mode, <code>fp16</code> for half-precision. <code>fp32</code> needed for Macintoshes and some NVidia cards.</td>
</tr>
<tr>
<td><code>--png_compression &lt;0-9&gt;</code></td>
<td><code>-z&lt;0-9&gt;</code></td>
<td><code>6</code></td>
<td>Select level of compression for output files, from 0 (no compression) to 9 (max compression)</td>
</tr>
<tr>
<td><code>--safety-checker</code></td>
<td></td>
<td><code>False</code></td>
<td>Activate safety checker for NSFW and other potentially disturbing imagery</td>
</tr>
<tr>
<td><code>--patchmatch</code>, <code>--no-patchmatch</code></td>
<td></td>
<td><code>--patchmatch</code></td>
<td>Load/Don't load the PatchMatch inpainting extension</td>
</tr>
<tr>
<td><code>--xformers</code>, <code>--no-xformers</code></td>
<td></td>
<td><code>--xformers</code></td>
<td>Load/Don't load the Xformers memory-efficient attention module (CUDA only)</td>
</tr>
<tr>
<td><code>--web</code></td>
<td></td>
<td><code>False</code></td>
<td>Start in web server mode</td>
</tr>
<tr>
<td><code>--host &lt;ip addr&gt;</code></td>
<td></td>
<td><code>localhost</code></td>
<td>Which network interface web server should listen on. Set to 0.0.0.0 to listen on any.</td>
</tr>
<tr>
<td><code>--port &lt;port&gt;</code></td>
<td></td>
<td><code>9090</code></td>
<td>Which port web server should listen for requests on.</td>
</tr>
<tr>
<td><code>--config &lt;path&gt;</code></td>
<td></td>
<td><code>configs/models.yaml</code></td>
<td>Configuration file for models and their weights.</td>
</tr>
<tr>
<td><code>--iterations &lt;int&gt;</code></td>
<td><code>-n&lt;int&gt;</code></td>
<td><code>1</code></td>
<td>How many images to generate per prompt.</td>
</tr>
<tr>
<td><code>--width &lt;int&gt;</code></td>
<td><code>-W&lt;int&gt;</code></td>
<td><code>512</code></td>
<td>Width of generated image</td>
</tr>
<tr>
<td><code>--height &lt;int&gt;</code></td>
<td><code>-H&lt;int&gt;</code></td>
<td><code>512</code></td>
<td>Height of generated image</td>
</tr>
<tr>
<td><code>--strength &lt;float&gt;</code></td>
<td><code>-s&lt;float&gt;</code></td>
<td><code>0.75</code></td>
<td>For img2img: how hard to try to match the prompt to the initial image. Ranges from 0.0-0.99, with higher values replacing the initial image completely.</td>
</tr>
<tr>
<td><code>--fit</code></td>
<td><code>-F</code></td>
<td><code>False</code></td>
<td>For img2img: scale the init image to fit into the specified -H and -W dimensions</td>
</tr>
<tr>
<td><code>--grid</code></td>
<td><code>-g</code></td>
<td><code>False</code></td>
<td>Save all image series as a grid rather than individually.</td>
</tr>
<tr>
<td><code>--sampler &lt;sampler&gt;</code></td>
<td><code>-A&lt;sampler&gt;</code></td>
<td><code>k_lms</code></td>
<td>Sampler to use. Use <code>-h</code> to get list of available samplers.</td>
</tr>
<tr>
<td><code>--seamless</code></td>
<td></td>
<td><code>False</code></td>
<td>Create interesting effects by tiling elements of the image.</td>
</tr>
<tr>
<td><code>--embedding_path &lt;path&gt;</code></td>
<td></td>
<td><code>None</code></td>
<td>Path to pre-trained embedding manager checkpoints, for custom models</td>
</tr>
<tr>
<td><code>--gfpgan_model_path</code></td>
<td></td>
<td><code>experiments/pretrained_models/GFPGANv1.4.pth</code></td>
<td>Path to GFPGAN model file.</td>
</tr>
<tr>
<td><code>--free_gpu_mem</code></td>
<td></td>
<td><code>False</code></td>
<td>Free GPU memory after sampling, to allow image decoding and saving in low VRAM conditions</td>
</tr>
<tr>
<td><code>--precision</code></td>
<td></td>
<td><code>auto</code></td>
<td>Set model precision, default is selected by device. Options: auto, float32, float16, autocast</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">These arguments are deprecated but still work</p>
<div align="center" markdown>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Shortcut</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--full_precision</code></td>
<td></td>
<td><code>False</code></td>
<td>Same as <code>--precision=fp32</code></td>
</tr>
<tr>
<td><code>--weights &lt;path&gt;</code></td>
<td></td>
<td><code>None</code></td>
<td>Path to weights file; use <code>--model stable-diffusion-1.4</code> instead</td>
</tr>
<tr>
<td><code>--laion400m</code></td>
<td><code>-l</code></td>
<td><code>False</code></td>
<td>Use older LAION400m weights; use <code>--model=laion400m</code> instead</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>On Windows systems, you may run into
  problems when passing the invoke script standard backslashed path
  names because the Python interpreter treats "\" as an escape.
  You can either double your slashes (ick): <code>C:\\path\\to\\my\\file</code>, or
  use Linux/Mac style forward slashes (better): <code>C:/path/to/my/file</code>.</p>
</div>
<h2 id="the-invokeai-initialization-file">The .invokeai initialization file<a class="headerlink" href="#the-invokeai-initialization-file" title="Permanent link">#</a></h2>
<p>To start up invoke.py with your preferred settings, place your desired
startup options in a file in your home directory named <code>.invokeai</code> The
file should contain the startup options as you would type them on the
command line (<code>--steps=10 --grid</code>), one argument per line, or a
mixture of both using any of the accepted command switch formats:</p>
<div class="admonition example">
<p class="admonition-title">my unmodified initialization file</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">~/.invokeai</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span>
<span class="normal"><a href="#__codelineno-3-14">14</a></span>
<span class="normal"><a href="#__codelineno-3-15">15</a></span>
<span class="normal"><a href="#__codelineno-3-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="c1"># InvokeAI initialization file</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="c1"># This is the InvokeAI initialization file, which contains command-line default values.</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="c1"># Feel free to edit. If anything goes wrong, you can re-initialize this file by deleting</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="c1"># or renaming it and then running invokeai-configure again.</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="c1"># The --root option below points to the folder in which InvokeAI stores its models, configs and outputs.</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a>--root<span class="o">=</span><span class="s2">&quot;/Users/mauwii/invokeai&quot;</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="c1"># the --outdir option controls the default location of image files.</span>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a>--outdir<span class="o">=</span><span class="s2">&quot;/Users/mauwii/invokeai/outputs&quot;</span>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="c1"># You may place other  frequently-used startup commands here, one or more per line.</span>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="c1"># Examples:</span>
<a id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="c1"># --web --host=0.0.0.0</span>
<a id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="c1"># --steps=20</span>
<a id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="c1"># -Ak_euler_a -C10.0</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The  initialization file only accepts the command line arguments.
There are additional arguments that you can provide on the <code>invoke&gt;</code> command
line (such as <code>-n</code> or <code>--iterations</code>) that cannot be entered into this file.
Also be alert for empty blank lines at the end of the file, which will cause
an arguments error at startup time.</p>
</div>
<h2 id="list-of-prompt-arguments">List of prompt arguments<a class="headerlink" href="#list-of-prompt-arguments" title="Permanent link">#</a></h2>
<p>After the invoke.py script initializes, it will present you with a <code>invoke&gt;</code>
prompt. Here you can enter information to generate images from text
(<a href="#txt2img">txt2img</a>), to embellish an existing image or sketch
(<a href="#img2img">img2img</a>), or to selectively alter chosen regions of the image
(<a href="#inpainting">inpainting</a>).</p>
<h3 id="txt2img">txt2img<a class="headerlink" href="#txt2img" title="Permanent link">#</a></h3>
<div class="admonition example">
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>invoke&gt;<span class="w"> </span>waterfall<span class="w"> </span>and<span class="w"> </span>rainbow<span class="w"> </span>-W640<span class="w"> </span>-H480
</code></pre></div>
<p>This will create the requested image with the dimensions 640 (width)
and 480 (height).</p>
</div>
<p>Here are the invoke&gt; command that apply to txt2img:</p>
<table>
<thead>
<tr>
<th>Argument <img width="680" align="right"/></th>
<th>Shortcut <img width="420" align="right"/></th>
<th>Default <img width="480" align="right"/></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>"my prompt"</td>
<td></td>
<td></td>
<td>Text prompt to use. The quotation marks are optional.</td>
</tr>
<tr>
<td><code>--width &lt;int&gt;</code></td>
<td><code>-W&lt;int&gt;</code></td>
<td><code>512</code></td>
<td>Width of generated image</td>
</tr>
<tr>
<td><code>--height &lt;int&gt;</code></td>
<td><code>-H&lt;int&gt;</code></td>
<td><code>512</code></td>
<td>Height of generated image</td>
</tr>
<tr>
<td><code>--iterations &lt;int&gt;</code></td>
<td><code>-n&lt;int&gt;</code></td>
<td><code>1</code></td>
<td>How many images to generate from this prompt</td>
</tr>
<tr>
<td><code>--steps &lt;int&gt;</code></td>
<td><code>-s&lt;int&gt;</code></td>
<td><code>50</code></td>
<td>How many steps of refinement to apply</td>
</tr>
<tr>
<td><code>--cfg_scale &lt;float&gt;</code></td>
<td><code>-C&lt;float&gt;</code></td>
<td><code>7.5</code></td>
<td>How hard to try to match the prompt to the generated image; any number greater than 1.0 works, but the useful range is roughly 5.0 to 20.0</td>
</tr>
<tr>
<td><code>--seed &lt;int&gt;</code></td>
<td><code>-S&lt;int&gt;</code></td>
<td><code>None</code></td>
<td>Set the random seed for the next series of images. This can be used to recreate an image generated previously.</td>
</tr>
<tr>
<td><code>--sampler &lt;sampler&gt;</code></td>
<td><code>-A&lt;sampler&gt;</code></td>
<td><code>k_lms</code></td>
<td>Sampler to use. Use -h to get list of available samplers.</td>
</tr>
<tr>
<td><code>--karras_max &lt;int&gt;</code></td>
<td></td>
<td><code>29</code></td>
<td>When using k_* samplers, set the maximum number of steps before shifting from using the Karras noise schedule (good for low step counts) to the LatentDiffusion noise schedule (good for high step counts) This value is sticky. [29]</td>
</tr>
<tr>
<td><code>--hires_fix</code></td>
<td></td>
<td></td>
<td>Larger images often have duplication artefacts. This option suppresses duplicates by generating the image at low res, and then using img2img to increase the resolution</td>
</tr>
<tr>
<td><code>--png_compression &lt;0-9&gt;</code></td>
<td><code>-z&lt;0-9&gt;</code></td>
<td><code>6</code></td>
<td>Select level of compression for output files, from 0 (no compression) to 9 (max compression)</td>
</tr>
<tr>
<td><code>--grid</code></td>
<td><code>-g</code></td>
<td><code>False</code></td>
<td>Turn on grid mode to return a single image combining all the images generated by this prompt</td>
</tr>
<tr>
<td><code>--individual</code></td>
<td><code>-i</code></td>
<td><code>True</code></td>
<td>Turn off grid mode (deprecated; leave off --grid instead)</td>
</tr>
<tr>
<td><code>--outdir &lt;path&gt;</code></td>
<td><code>-o&lt;path&gt;</code></td>
<td><code>outputs/img_samples</code></td>
<td>Temporarily change the location of these images</td>
</tr>
<tr>
<td><code>--seamless</code></td>
<td></td>
<td><code>False</code></td>
<td>Activate seamless tiling for interesting effects</td>
</tr>
<tr>
<td><code>--seamless_axes</code></td>
<td></td>
<td><code>x,y</code></td>
<td>Specify which axes to use circular convolution on.</td>
</tr>
<tr>
<td><code>--log_tokenization</code></td>
<td><code>-t</code></td>
<td><code>False</code></td>
<td>Display a color-coded list of the parsed tokens derived from the prompt</td>
</tr>
<tr>
<td><code>--skip_normalization</code></td>
<td><code>-x</code></td>
<td><code>False</code></td>
<td>Weighted subprompts will not be normalized. See <a href="../OTHER/#weighted-prompts">Weighted Prompts</a></td>
</tr>
<tr>
<td><code>--upscale &lt;int&gt; &lt;float&gt;</code></td>
<td><code>-U &lt;int&gt; &lt;float&gt;</code></td>
<td><code>-U 1 0.75</code></td>
<td>Upscale image by magnification factor (2, 4), and set strength of upscaling (0.0-1.0). If strength not set, will default to 0.75.</td>
</tr>
<tr>
<td><code>--facetool_strength &lt;float&gt;</code></td>
<td><code>-G &lt;float&gt;</code></td>
<td><code>-G0</code></td>
<td>Fix faces (defaults to using the GFPGAN algorithm); argument indicates how hard the algorithm should try (0.0-1.0)</td>
</tr>
<tr>
<td><code>--facetool &lt;name&gt;</code></td>
<td><code>-ft &lt;name&gt;</code></td>
<td><code>-ft gfpgan</code></td>
<td>Select face restoration algorithm to use: gfpgan, codeformer</td>
</tr>
<tr>
<td><code>--codeformer_fidelity</code></td>
<td><code>-cf &lt;float&gt;</code></td>
<td><code>0.75</code></td>
<td>Used along with CodeFormer. Takes values between 0 and 1. 0 produces high quality but low accuracy. 1 produces high accuracy but low quality</td>
</tr>
<tr>
<td><code>--save_original</code></td>
<td><code>-save_orig</code></td>
<td><code>False</code></td>
<td>When upscaling or fixing faces, this will cause the original image to be saved rather than replaced.</td>
</tr>
<tr>
<td><code>--variation &lt;float&gt;</code></td>
<td><code>-v&lt;float&gt;</code></td>
<td><code>0.0</code></td>
<td>Add a bit of noise (0.0=none, 1.0=high) to the image in order to generate a series of variations. Usually used in combination with <code>-S&lt;seed&gt;</code> and <code>-n&lt;int&gt;</code> to generate a series a riffs on a starting image. See <a href="../VARIATIONS/">Variations</a>.</td>
</tr>
<tr>
<td><code>--with_variations &lt;pattern&gt;</code></td>
<td></td>
<td><code>None</code></td>
<td>Combine two or more variations. See <a href="../VARIATIONS/">Variations</a> for now to use this.</td>
</tr>
<tr>
<td><code>--save_intermediates &lt;n&gt;</code></td>
<td></td>
<td><code>None</code></td>
<td>Save the image from every nth step into an "intermediates" folder inside the output directory</td>
</tr>
<tr>
<td><code>--h_symmetry_time_pct &lt;float&gt;</code></td>
<td></td>
<td><code>None</code></td>
<td>Create symmetry along the X axis at the desired percent complete of the generation process. (Must be between 0.0 and 1.0; set to a very small number like 0.0001 for just after the first step of generation.)</td>
</tr>
<tr>
<td><code>--v_symmetry_time_pct &lt;float&gt;</code></td>
<td></td>
<td><code>None</code></td>
<td>Create symmetry along the Y axis at the desired percent complete of the generation process. (Must be between 0.0 and 1.0; set to a very small number like 0.0001 for just after the first step of generation.)</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>the width and height of the image must be multiples of 64. You can
provide different values, but they will be rounded down to the nearest multiple
of 64.</p>
</div>
<div class="admonition example">
<p class="admonition-title">This is a example of img2img</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>invoke&gt;<span class="w"> </span>waterfall<span class="w"> </span>and<span class="w"> </span>rainbow<span class="w"> </span>-I./vacation-photo.png<span class="w"> </span>-W640<span class="w"> </span>-H480<span class="w"> </span>--fit
</code></pre></div>
</div>
<p>This will modify the indicated vacation photograph by making it more like the
prompt. Results will vary greatly depending on what is in the image. We also ask
to --fit the image into a box no bigger than 640x480. Otherwise the image size
will be identical to the provided photo and you may run out of memory if it is
large.</p>
<p>In addition to the command-line options recognized by txt2img, img2img accepts
additional options:</p>
<table>
<thead>
<tr>
<th>Argument <img width="160" align="right"/></th>
<th>Shortcut</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--init_img &lt;path&gt;</code></td>
<td><code>-I&lt;path&gt;</code></td>
<td><code>None</code></td>
<td>Path to the initialization image</td>
</tr>
<tr>
<td><code>--fit</code></td>
<td><code>-F</code></td>
<td><code>False</code></td>
<td>Scale the image to fit into the specified -H and -W dimensions</td>
</tr>
<tr>
<td><code>--strength &lt;float&gt;</code></td>
<td><code>-s&lt;float&gt;</code></td>
<td><code>0.75</code></td>
<td>How hard to try to match the prompt to the initial image. Ranges from 0.0-0.99, with higher values replacing the initial image completely.</td>
</tr>
</tbody>
</table>
<h3 id="inpainting">inpainting<a class="headerlink" href="#inpainting" title="Permanent link">#</a></h3>
<div class="admonition example">
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>invoke&gt;<span class="w"> </span>waterfall<span class="w"> </span>and<span class="w"> </span>rainbow<span class="w"> </span>-I./vacation-photo.png<span class="w"> </span>-M./vacation-mask.png<span class="w"> </span>-W640<span class="w"> </span>-H480<span class="w"> </span>--fit
</code></pre></div>
<p>This will do the same thing as img2img, but image alterations will
only occur within transparent areas defined by the mask file specified
by <code>-M</code>. You may also supply just a single initial image with the areas
to overpaint made transparent, but you must be careful not to destroy
the pixels underneath when you create the transparent areas. See
<a href="../INPAINTING/">Inpainting</a> for details.</p>
</div>
<p>inpainting accepts all the arguments used for txt2img and img2img, as well as
the --mask (-M) and --text_mask (-tm) arguments:</p>
<table>
<thead>
<tr>
<th>Argument <img width="100" align="right"/></th>
<th>Shortcut</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--init_mask &lt;path&gt;</code></td>
<td><code>-M&lt;path&gt;</code></td>
<td><code>None</code></td>
<td>Path to an image the same size as the initial_image, with areas for inpainting made transparent.</td>
</tr>
<tr>
<td><code>--invert_mask</code></td>
<td></td>
<td>False</td>
<td>If true, invert the mask so that transparent areas are opaque and vice versa.</td>
</tr>
<tr>
<td><code>--text_mask &lt;prompt&gt; [&lt;float&gt;]</code></td>
<td><code>-tm &lt;prompt&gt; [&lt;float&gt;]</code></td>
<td><none></td>
<td>Create a mask from a text prompt describing part of the image</td>
</tr>
</tbody>
</table>
<p>The mask may either be an image with transparent areas, in which case the
inpainting will occur in the transparent areas only, or a black and white image,
in which case all black areas will be painted into.</p>
<p><code>--text_mask</code> (short form <code>-tm</code>) is a way to generate a mask using a text
description of the part of the image to replace. For example, if you have an
image of a breakfast plate with a bagel, toast and scrambled eggs, you can
selectively mask the bagel and replace it with a piece of cake this way:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>invoke&gt;<span class="w"> </span>a<span class="w"> </span>piece<span class="w"> </span>of<span class="w"> </span>cake<span class="w"> </span>-I<span class="w"> </span>/path/to/breakfast.png<span class="w"> </span>-tm<span class="w"> </span>bagel
</code></pre></div>
<p>The algorithm uses <a
href="https://github.com/timojl/clipseg">clipseg</a> to classify different
regions of the image. The classifier puts out a confidence score for each region
it identifies. Generally regions that score above 0.5 are reliable, but if you
are getting too much or too little masking you can adjust the threshold down (to
get more mask), or up (to get less). In this example, by passing <code>-tm</code> a higher
value, we are insisting on a more stringent classification.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>invoke&gt;<span class="w"> </span>a<span class="w"> </span>piece<span class="w"> </span>of<span class="w"> </span>cake<span class="w"> </span>-I<span class="w"> </span>/path/to/breakfast.png<span class="w"> </span>-tm<span class="w"> </span>bagel<span class="w"> </span><span class="m">0</span>.6
</code></pre></div>
<h3 id="custom-styles-and-subjects">Custom Styles and Subjects<a class="headerlink" href="#custom-styles-and-subjects" title="Permanent link">#</a></h3>
<p>You can load and use hundreds of community-contributed Textual
Inversion models just by typing the appropriate trigger phrase. Please
see <a href="../CONCEPTS/">Concepts Library</a> for more details.</p>
<h2 id="other-commands">Other Commands<a class="headerlink" href="#other-commands" title="Permanent link">#</a></h2>
<p>The CLI offers a number of commands that begin with "!".</p>
<h3 id="postprocessing-images">Postprocessing images<a class="headerlink" href="#postprocessing-images" title="Permanent link">#</a></h3>
<p>To postprocess a file using face restoration or upscaling, use the <code>!fix</code>
command.</p>
<h4 id="fix"><code>!fix</code><a class="headerlink" href="#fix" title="Permanent link">#</a></h4>
<p>This command runs a post-processor on a previously-generated image. It takes a
PNG filename or path and applies your choice of the <code>-U</code>, <code>-G</code>, or <code>--embiggen</code>
switches in order to fix faces or upscale. If you provide a filename, the script
will look for it in the current output directory. Otherwise you can provide a
full or partial path to the desired file.</p>
<p>Some examples:</p>
<div class="admonition example">
<p class="admonition-title">Upscale to 4X its original size and fix faces using codeformer</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>invoke&gt;<span class="w"> </span>!fix<span class="w"> </span><span class="m">0000045</span>.4829112.png<span class="w"> </span>-G1<span class="w"> </span>-U4<span class="w"> </span>-ft<span class="w"> </span>codeformer
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Use the GFPGAN algorithm to fix faces, then upscale to 3X using --embiggen</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>invoke&gt;<span class="w"> </span>!fix<span class="w"> </span><span class="m">0000045</span>.4829112.png<span class="w"> </span>-G0.8<span class="w"> </span>-ft<span class="w"> </span>gfpgan
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>&gt;&gt;<span class="w"> </span>fixing<span class="w"> </span>outputs/img-samples/0000045.4829112.png
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>&gt;&gt;<span class="w"> </span>retrieved<span class="w"> </span>seed<span class="w"> </span><span class="m">4829112</span><span class="w"> </span>and<span class="w"> </span>prompt<span class="w"> </span><span class="s2">&quot;boy enjoying a banana split&quot;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>&gt;&gt;<span class="w"> </span>GFPGAN<span class="w"> </span>-<span class="w"> </span>Restoring<span class="w"> </span>Faces<span class="w"> </span><span class="k">for</span><span class="w"> </span>image<span class="w"> </span>seed:4829112
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>Outputs:
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="w"> </span>outputs/img-samples/000017.4829112.gfpgan-00.png:<span class="w"> </span>!fix<span class="w"> </span><span class="s2">&quot;outputs/img-samples/0000045.4829112.png&quot;</span><span class="w"> </span>-s<span class="w"> </span><span class="m">50</span><span class="w"> </span>-S<span class="w">  </span>-W<span class="w"> </span><span class="m">512</span><span class="w"> </span>-H<span class="w"> </span><span class="m">512</span><span class="w"> </span>-C<span class="w"> </span><span class="m">7</span>.5<span class="w"> </span>-A<span class="w"> </span>k_lms<span class="w"> </span>-G<span class="w"> </span><span class="m">0</span>.8
</code></pre></div>
</div>
<h4 id="mask"><code>!mask</code><a class="headerlink" href="#mask" title="Permanent link">#</a></h4>
<p>This command takes an image, a text prompt, and uses the <code>clipseg</code> algorithm to
automatically generate a mask of the area that matches the text prompt. It is
useful for debugging the text masking process prior to inpainting with the
<code>--text_mask</code> argument. See [INPAINTING.md] for details.</p>
<h3 id="model-selection-and-importation">Model selection and importation<a class="headerlink" href="#model-selection-and-importation" title="Permanent link">#</a></h3>
<p>The CLI allows you to add new models on the fly, as well as to switch
among them rapidly without leaving the script. There are several
different model formats, each described in the <a href="../../installation/050_INSTALLING_MODELS/">Model Installation
Guide</a>.</p>
<h4 id="models"><code>!models</code><a class="headerlink" href="#models" title="Permanent link">#</a></h4>
<p>This prints out a list of the models defined in `config/models.yaml'. The active
model is bold-faced</p>
<p>Example:</p>
<pre>
inpainting-1.5            not loaded  Stable Diffusion inpainting model
<b>stable-diffusion-1.5          active  Stable Diffusion v1.5</b>
waifu-diffusion           not loaded  Waifu Diffusion v1.4
</pre>

<h4 id="switch-model"><code>!switch &lt;model&gt;</code><a class="headerlink" href="#switch-model" title="Permanent link">#</a></h4>
<p>This quickly switches from one model to another without leaving the CLI script.
<code>invoke.py</code> uses a memory caching system; once a model has been loaded,
switching back and forth is quick. The following example shows this in action.
Note how the second column of the <code>!models</code> table changes to <code>cached</code> after a
model is first loaded, and that the long initialization step is not needed when
loading a cached model.</p>
<h4 id="import_model-hugging_face_repo_id"><code>!import_model &lt;hugging_face_repo_ID&gt;</code><a class="headerlink" href="#import_model-hugging_face_repo_id" title="Permanent link">#</a></h4>
<p>This imports and installs a <code>diffusers</code>-style model that is stored on
the <a href="https://huggingface.co">HuggingFace Web Site</a>. You can look up
any <a href="https://huggingface.co/models?library=diffusers">Stable Diffusion diffusers
model</a> and install it
with a command like the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>!import_model<span class="w"> </span>prompthero/openjourney
</code></pre></div>
<h4 id="import_model-pathtodiffusersdirectory"><code>!import_model &lt;path/to/diffusers/directory&gt;</code><a class="headerlink" href="#import_model-pathtodiffusersdirectory" title="Permanent link">#</a></h4>
<p>If you have a copy of a <code>diffusers</code>-style model saved to disk, you can
import it by passing the path to model's top-level directory.</p>
<h4 id="import_model-url"><code>!import_model &lt;url&gt;</code><a class="headerlink" href="#import_model-url" title="Permanent link">#</a></h4>
<p>For a <code>.ckpt</code> or <code>.safetensors</code> file, if you have a direct download
URL for the file, you can provide it to <code>!import_model</code> and the file
will be downloaded and installed for you.</p>
<h4 id="import_model-pathtomodelweightsckpt"><code>!import_model &lt;path/to/model/weights.ckpt&gt;</code><a class="headerlink" href="#import_model-pathtomodelweightsckpt" title="Permanent link">#</a></h4>
<p>This command imports a new model weights file into InvokeAI, makes it available
for image generation within the script, and writes out the configuration for the
model into <code>config/models.yaml</code> for use in subsequent sessions.</p>
<p>Provide <code>!import_model</code> with the path to a weights file ending in <code>.ckpt</code>. If
you type a partial path and press tab, the CLI will autocomplete. Although it
will also autocomplete to <code>.vae</code> files, these are not currenty supported (but
will be soon).</p>
<p>When you hit return, the CLI will prompt you to fill in additional information
about the model, including the short name you wish to use for it with the
<code>!switch</code> command, a brief description of the model, the default image width and
height to use with this model, and the model's configuration file. The latter
three fields are automatically filled with reasonable defaults. In the example
below, the bold-faced text shows what the user typed in with the exception of
the width, height and configuration file paths, which were filled in
automatically.</p>
<h4 id="import_model-pathtodirectory_of_models"><code>!import_model &lt;path/to/directory_of_models&gt;</code><a class="headerlink" href="#import_model-pathtodirectory_of_models" title="Permanent link">#</a></h4>
<p>If you provide the path of a directory that contains one or more
<code>.ckpt</code> or <code>.safetensors</code> files, the CLI will scan the directory and
interactively offer to import the models it finds there. Also see the
<code>--autoconvert</code> command-line option.</p>
<h4 id="edit_model-name_of_model"><code>!edit_model &lt;name_of_model&gt;</code><a class="headerlink" href="#edit_model-name_of_model" title="Permanent link">#</a></h4>
<p>The <code>!edit_model</code> command can be used to modify a model that is already defined
in <code>config/models.yaml</code>. Call it with the short name of the model you wish to
modify, and it will allow you to modify the model's <code>description</code>, <code>weights</code> and
other fields.</p>
<p>Example:</p>
<pre>
invoke> <b>!edit_model waifu-diffusion</b>
>> Editing model waifu-diffusion from configuration file ./configs/models.yaml
description: <b>Waifu diffusion v1.4beta</b>
weights: models/ldm/stable-diffusion-v1/<b>model-epoch10-float16.ckpt</b>
config: configs/stable-diffusion/v1-inference.yaml
width: 512
height: 512

>> New configuration:
waifu-diffusion:
  config: configs/stable-diffusion/v1-inference.yaml
  description: Waifu diffusion v1.4beta
  weights: models/ldm/stable-diffusion-v1/model-epoch10-float16.ckpt
  height: 512
  width: 512

OK to import [n]? y
>> Caching model stable-diffusion-1.4 in system RAM
>> Loading waifu-diffusion from models/ldm/stable-diffusion-v1/model-epoch10-float16.ckpt
...
</pre>

<h3 id="history-processing">History processing<a class="headerlink" href="#history-processing" title="Permanent link">#</a></h3>
<p>The CLI provides a series of convenient commands for reviewing previous actions,
retrieving them, modifying them, and re-running them.</p>
<h4 id="history"><code>!history</code><a class="headerlink" href="#history" title="Permanent link">#</a></h4>
<p>The invoke script keeps track of all the commands you issue during a session,
allowing you to re-run them. On Mac and Linux systems, it also writes the
command-line history out to disk, giving you access to the most recent 1000
commands issued.</p>
<p>The <code>!history</code> command will return a numbered list of all the commands issued
during the session (Windows), or the most recent 1000 commands (Mac|Linux). You
can then repeat a command by using the command <code>!NNN</code>, where "NNN" is the
history line number. For example:</p>
<div class="admonition example">
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>invoke&gt;<span class="w"> </span>!history
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>...
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="o">[</span><span class="m">14</span><span class="o">]</span><span class="w"> </span>happy<span class="w"> </span>woman<span class="w"> </span>sitting<span class="w"> </span>under<span class="w"> </span>tree<span class="w"> </span>wearing<span class="w"> </span>broad<span class="w"> </span>hat<span class="w"> </span>and<span class="w"> </span>flowing<span class="w"> </span>garment
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="o">[</span><span class="m">15</span><span class="o">]</span><span class="w"> </span>beautiful<span class="w"> </span>woman<span class="w"> </span>sitting<span class="w"> </span>under<span class="w"> </span>tree<span class="w"> </span>wearing<span class="w"> </span>broad<span class="w"> </span>hat<span class="w"> </span>and<span class="w"> </span>flowing<span class="w"> </span>garment
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="o">[</span><span class="m">18</span><span class="o">]</span><span class="w"> </span>beautiful<span class="w"> </span>woman<span class="w"> </span>sitting<span class="w"> </span>under<span class="w"> </span>tree<span class="w"> </span>wearing<span class="w"> </span>broad<span class="w"> </span>hat<span class="w"> </span>and<span class="w"> </span>flowing<span class="w"> </span>garment<span class="w"> </span>-v0.2<span class="w"> </span>-n6
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="o">[</span><span class="m">20</span><span class="o">]</span><span class="w"> </span>watercolor<span class="w"> </span>of<span class="w"> </span>beautiful<span class="w"> </span>woman<span class="w"> </span>sitting<span class="w"> </span>under<span class="w"> </span>tree<span class="w"> </span>wearing<span class="w"> </span>broad<span class="w"> </span>hat<span class="w"> </span>and<span class="w"> </span>flowing<span class="w"> </span>garment<span class="w"> </span>-v0.2<span class="w"> </span>-n6<span class="w"> </span>-S2878767194
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="o">[</span><span class="m">21</span><span class="o">]</span><span class="w"> </span>surrealist<span class="w"> </span>painting<span class="w"> </span>of<span class="w"> </span>beautiful<span class="w"> </span>woman<span class="w"> </span>sitting<span class="w"> </span>under<span class="w"> </span>tree<span class="w"> </span>wearing<span class="w"> </span>broad<span class="w"> </span>hat<span class="w"> </span>and<span class="w"> </span>flowing<span class="w"> </span>garment<span class="w"> </span>-v0.2<span class="w"> </span>-n6<span class="w"> </span>-S2878767194
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>...
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>invoke&gt;<span class="w"> </span>!20
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>invoke&gt;<span class="w"> </span>watercolor<span class="w"> </span>of<span class="w"> </span>beautiful<span class="w"> </span>woman<span class="w"> </span>sitting<span class="w"> </span>under<span class="w"> </span>tree<span class="w"> </span>wearing<span class="w"> </span>broad<span class="w"> </span>hat<span class="w"> </span>and<span class="w"> </span>flowing<span class="w"> </span>garment<span class="w"> </span>-v0.2<span class="w"> </span>-n6<span class="w"> </span>-S2878767194
</code></pre></div>
</div>
<h4 id="fetch"><code>!fetch</code><a class="headerlink" href="#fetch" title="Permanent link">#</a></h4>
<p>This command retrieves the generation parameters from a previously generated
image and either loads them into the command line (Linux|Mac), or prints them
out in a comment for copy-and-paste (Windows). You may provide either the name
of a file in the current output directory, or a full file path. Specify path to
a folder with image png files, and wildcard *.png to retrieve the dream command
used to generate the images, and save them to a file commands.txt for further
processing.</p>
<div class="admonition example">
<p class="admonition-title">load the generation command for a single png file</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>invoke&gt;<span class="w"> </span>!fetch<span class="w"> </span><span class="m">0000015</span>.8929913.png
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="c1"># the script returns the next line, ready for editing and running:</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>invoke&gt;<span class="w"> </span>a<span class="w"> </span>fantastic<span class="w"> </span>alien<span class="w"> </span>landscape<span class="w"> </span>-W<span class="w"> </span><span class="m">576</span><span class="w"> </span>-H<span class="w"> </span><span class="m">512</span><span class="w"> </span>-s<span class="w"> </span><span class="m">60</span><span class="w"> </span>-A<span class="w"> </span>plms<span class="w"> </span>-C<span class="w"> </span><span class="m">7</span>.5
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">fetch the generation commands from a batch of files and store them into <code>selected.txt</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>invoke&gt;<span class="w"> </span>!fetch<span class="w"> </span>outputs<span class="se">\s</span>elected-imgs<span class="se">\*</span>.png<span class="w"> </span>selected.txt
</code></pre></div>
</div>
<h4 id="replay"><code>!replay</code><a class="headerlink" href="#replay" title="Permanent link">#</a></h4>
<p>This command replays a text file generated by !fetch or created manually</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>invoke&gt;<span class="w"> </span>!replay<span class="w"> </span>outputs<span class="se">\s</span>elected-imgs<span class="se">\s</span>elected.txt
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These commands may behave unexpectedly if given a PNG file that was
not generated by InvokeAI.</p>
</div>
<h4 id="search-search-string"><code>!search &lt;search string&gt;</code><a class="headerlink" href="#search-search-string" title="Permanent link">#</a></h4>
<p>This is similar to !history but it only returns lines that contain
<code>search string</code>. For example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>invoke&gt;<span class="w"> </span>!search<span class="w"> </span>surreal
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="o">[</span><span class="m">21</span><span class="o">]</span><span class="w"> </span>surrealist<span class="w"> </span>painting<span class="w"> </span>of<span class="w"> </span>beautiful<span class="w"> </span>woman<span class="w"> </span>sitting<span class="w"> </span>under<span class="w"> </span>tree<span class="w"> </span>wearing<span class="w"> </span>broad<span class="w"> </span>hat<span class="w"> </span>and<span class="w"> </span>flowing<span class="w"> </span>garment<span class="w"> </span>-v0.2<span class="w"> </span>-n6<span class="w"> </span>-S2878767194
</code></pre></div>
<h4 id="clear"><code>!clear</code><a class="headerlink" href="#clear" title="Permanent link">#</a></h4>
<p>This clears the search history from memory and disk. Be advised that this
operation is irreversible and does not issue any warnings!</p>
<h2 id="command-line-editing-and-completion">Command-line editing and completion<a class="headerlink" href="#command-line-editing-and-completion" title="Permanent link">#</a></h2>
<p>The command-line offers convenient history tracking, editing, and command
completion.</p>
<ul>
<li>To scroll through previous commands and potentially edit/reuse them, use the
  <span class="keys"><kbd class="key-arrow-up">Up</kbd></span> and <span class="keys"><kbd class="key-arrow-down">Down</kbd></span> keys.</li>
<li>To edit the current command, use the <span class="keys"><kbd class="key-arrow-left">Left</kbd></span> and <span class="keys"><kbd class="key-arrow-right">Right</kbd></span> keys to position
  the cursor, and then <span class="keys"><kbd class="key-backspace">Backspace</kbd></span>, <span class="keys"><kbd class="key-delete">Del</kbd></span> or insert characters.</li>
<li>To move to the very beginning of the command, type <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-a">A</kbd></span> (or
  <span class="keys"><kbd class="key-command">Cmd</kbd><span>+</span><kbd class="key-a">A</kbd></span> on the Mac)</li>
<li>To move to the end of the command, type <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-e">E</kbd></span>.</li>
<li>To cut a section of the command, position the cursor where you want to start
  cutting and type <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-k">K</kbd></span></li>
<li>To paste a cut section back in, position the cursor where you want to paste,
  and type <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-y">Y</kbd></span></li>
</ul>
<p>Windows users can get similar, but more limited, functionality if they launch
<code>invoke.py</code> with the <code>winpty</code> program and have the <code>pyreadline3</code> library
installed:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="p">&gt;</span> winpty python scripts\invoke.py
</code></pre></div>
<p>On the Mac and Linux platforms, when you exit invoke.py, the last 1000 lines of
your command-line history will be saved. When you restart <code>invoke.py</code>, you can
access the saved history using the <span class="keys"><kbd class="key-arrow-up">Up</kbd></span> key.</p>
<p>In addition, limited command-line completion is installed. In various contexts,
you can start typing your command and press <span class="keys"><kbd class="key-tab">Tab</kbd></span>. A list of potential
completions will be presented to you. You can then type a little more, hit
<span class="keys"><kbd class="key-tab">Tab</kbd></span> again, and eventually autocomplete what you want.</p>
<p>When specifying file paths using the one-letter shortcuts, the CLI will attempt
to complete pathnames for you. This is most handy for the <code>-I</code> (init image) and
<code>-M</code> (init mask) paths. To initiate completion, start the path with a slash
(<code>/</code>) or <code>./</code>. For example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>invoke&gt;<span class="w"> </span>zebra<span class="w"> </span>with<span class="w"> </span>a<span class="w"> </span>mustache<span class="w"> </span>-I./test-pictures&lt;TAB&gt;
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>-I./test-pictures/Lincoln-and-Parrot.png<span class="w">  </span>-I./test-pictures/zebra.jpg<span class="w">        </span>-I./test-pictures/madonna.png
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>-I./test-pictures/bad-sketch.png<span class="w">          </span>-I./test-pictures/man_with_eagle/
</code></pre></div>
<p>You can then type <span class="keys"><kbd class="key-z">Z</kbd></span>, hit <span class="keys"><kbd class="key-tab">Tab</kbd></span> again, and it will autofill to <code>zebra.jpg</code>.</p>
<p>More text completion features (such as autocompleting seeds) are on their way.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">February 20, 2023</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 11, 2022</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 InvokeAI Team
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.tabs.link", "navigation.indexes", "navigation.instant", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.suggest", "toc.integrate"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.51198bba.min.js"></script>
      
    
  </body>
</html>